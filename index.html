<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Virtual Try-On Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0; font-family: 'Poppins', sans-serif;
    background: #0b0f17; color: #fff; overflow-x: hidden;
  }
  header {
    text-align: center; padding: 20px;
    font-size: 1.5rem; font-weight: 600;
    background: rgba(0,0,0,0.4); position: sticky; top:0;
  }
  .hero {
    position: relative; text-align: center; padding: 50px 20px;
    overflow: hidden;
  }
  .hero h1 { font-size: 2rem; margin-bottom: 10px }
  .particles { position:absolute; inset:0; pointer-events:none; overflow:hidden }
  .particle {
    position:absolute; opacity:.85;
    animation: float var(--dur) infinite ease-in-out alternate;
    will-change: transform;
  }
  @keyframes float {
    from { transform:translateY(0) rotate(0) }
    to   { transform:translateY(-40px) rotate(8deg) }
  }

  .drop {
    margin:20px auto; max-width:500px; padding:20px;
    border:2px dashed #7ae2ff; border-radius:16px;
    text-align:center; cursor:pointer; background:rgba(122,226,255,.05);
  }
  .drop input { display:none }
  .stage {
    position:relative; margin:20px auto; max-width:500px;
    border:1px solid rgba(122,226,255,.3); border-radius:16px;
    background:#111; min-height:320px; overflow:hidden;
  }
  .stage img.base { width:100%; height:auto; display:block }
  .overlay {
    position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
    width:150px; cursor:grab; user-select:none;
  }
  .overlay:active { cursor:grabbing }
  .overlay img { width:100%; display:block; pointer-events:none }
  .toolbar { text-align:center; margin:15px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center }
  .btn {
    background:#222; border:1px solid #7ae2ff; border-radius:8px;
    padding:8px 12px; color:#fff; cursor:pointer; font-size:.9rem;
  }
  .btn:hover { background:#7ae2ff; color:#000 }
  input[type=range] { width:140px }
  @media (max-width:600px){
    h1{ font-size:1.5rem }
    .overlay{ width:120px }
  }
</style>
</head>
<body>

<header>üëó Virtual Try-On System</header>

<section class="hero">
  <h1>Upload & Try Fashion Items</h1>
  <p>Works on desktop üíª and mobile üì±</p>
  <div class="particles" id="particles"></div>
</section>

<div class="drop" id="drop">
  <input type="file" id="file" accept="image/*">
  <p><strong>Click or Drag & Drop</strong> a photo here</p>
</div>

<div class="stage" id="stage">
  <img class="base" id="base" alt="">
</div>

<div class="toolbar">
  <button class="btn" id="addOverlay">+ Glasses</button>
  <button class="btn" id="flip">Flip</button>
  <label>Opacity <input type="range" id="opacity" min="20" max="100" value="100"></label>
  <button class="btn" id="reset">Reset</button>
</div>

<script>
const particles = document.getElementById("particles");
const icons = [
  "üëó","üë†","üï∂Ô∏è"
];
for(let i=0;i<12;i++){
  let span=document.createElement("span");
  span.className="particle";
  span.style.setProperty("--dur",(6+Math.random()*6)+"s");
  span.style.left=Math.random()*100+"%";
  span.style.top=10+Math.random()*70+"%";
  span.style.fontSize=(20+Math.random()*30)+"px";
  span.textContent=icons[i%icons.length];
  particles.appendChild(span);
}

const drop=document.getElementById("drop");
const file=document.getElementById("file");
const base=document.getElementById("base");
drop.addEventListener("click",()=>file.click());
file.addEventListener("change",e=>handleFile(e.target.files[0]));
drop.addEventListener("dragover",e=>{e.preventDefault(); drop.style.background="rgba(122,226,255,.15)"});
drop.addEventListener("dragleave",()=> drop.style.background="rgba(122,226,255,.05)");
drop.addEventListener("drop",e=>{
  e.preventDefault(); drop.style.background="rgba(122,226,255,.05)";
  handleFile(e.dataTransfer.files[0]);
});
function handleFile(f){
  if(!f) return;
  let r=new FileReader();
  r.onload=e=>{ base.src=e.target.result };
  r.readAsDataURL(f);
}

const stage=document.getElementById("stage");
const addBtn=document.getElementById("addOverlay");
const flipBtn=document.getElementById("flip");
const resetBtn=document.getElementById("reset");
const opacity=document.getElementById("opacity");
let current=null;

function addOverlay(){
  const o=document.createElement("div");
  o.className="overlay"; o.innerHTML=`<img src="https://i.postimg.cc/15xMtyXY/glasses.png">`;
  stage.appendChild(o);
  makeDraggable(o);
  current=o;
}
addBtn.onclick=addOverlay;

flipBtn.onclick=()=>{
  if(current){
    const img=current.querySelector("img");
    img.style.transform=img.style.transform==="scaleX(-1)"?"scaleX(1)":"scaleX(-1)";
  }
};
opacity.oninput=()=>{ if(current) current.style.opacity=opacity.value/100 };
resetBtn.onclick=()=>{ document.querySelectorAll(".overlay").forEach(o=>o.remove()) };

function makeDraggable(el){
  let startX,startY,origX,origY;
  function down(e){
    e.preventDefault();
    startX=(e.touches?e.touches[0].clientX:e.clientX);
    startY=(e.touches?e.touches[0].clientY:e.clientY);
    origX=el.offsetLeft; origY=el.offsetTop;
    document.addEventListener("mousemove",move);
    document.addEventListener("mouseup",up);
    document.addEventListener("touchmove",move,{passive:false});
    document.addEventListener("touchend",up);
    current=el;
  }
  function move(e){
    if(e.touches) e.preventDefault();
    const x=(e.touches?e.touches[0].clientX:e.clientX);
    const y=(e.touches?e.touches[0].clientY:e.clientY);
    el.style.left=origX+(x-startX)+"px";
    el.style.top=origY+(y-startY)+"px";
    el.style.transform="translate(0,0)";
  }
  function up(){
    document.removeEventListener("mousemove",move);
    document.removeEventListener("mouseup",up);
    document.removeEventListener("touchmove",move);
    document.removeEventListener("touchend",up);
  }
  el.addEventListener("mousedown",down);
  el.addEventListener("touchstart",down,{passive:false});
}
</script>
</body>
</html>
